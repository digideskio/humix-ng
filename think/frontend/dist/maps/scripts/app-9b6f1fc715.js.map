{"version":3,"sources":["scripts/app-9b6f1fc715.js"],"names":["angular","module","ngSenseItem","deviceList","directive","restrict","templateUrl","scope","senseId","imgId","link","element","attrs","sense","$observe","delDevice","$inject","senseContent","senseContentController","$scope","$modal","$log","vm","this","getDevices","$watch","newVal","oldVal","info","open","modalInstance","animation","controller","modalController","controllerAs","result","then","setDevice","id","Date","$modalInstance","Math","floor","random","ok","close","cancel","dismiss","creationDate","bindToController","ngNavbar","NavbarController","$http","devices","iconId","method","url","data","senseIcon","response","fromJson","forEach","obj","service","MainController","$timeout","toastr","activate","classAnimation","showToastr","awesomeThings","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","when","otherwise","config","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-9b6f1fc715.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('public', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ui.router', 'ui.bootstrap', 'toastr', 'ngFileUpload']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .directive('ngSenseItem', ngSenseItem);\n\n  /** @ngInject */\n  function ngSenseItem(deviceList) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/senseItem/senseItem.html',\n      scope: {\n          senseId: '@',\n          imgId: '@'\n      },\n      link: function(scope, element, attrs) {\n        scope.sense = {};\n\n        attrs.$observe('senseId', function(senseId) {\n          scope.sense.senseId = senseId;          \n        });\n\n        attrs.$observe('imgId', function(imgId) {\n          scope.sense.imgId = imgId;\n        });\n\n        scope.delDevice = deviceList.delDevice;\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .directive('ngSenseContent', senseContent);\n\n  /** @ngInject */\n  function senseContent() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/senseContent/senseContent.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: senseContentController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function senseContentController(deviceList, $scope, $modal, $log) {\n      var vm = this;\n\n      vm.getDevices = deviceList.getDevices;\n      vm.delDevice = deviceList.delDevice;\n      // vm.deviceEmpty = (angular.equals(vm.getDevices(),{})) ? true: false;\n\n      $scope.$watch(function(){ return deviceList.getDevices}, function(newVal, oldVal){\n        $log.info('data change'+newVal+' '+oldVal);\n      }, true);\n\n      vm.open = function(){\n\n        var modalInstance = $modal.open({\n          animation: 1,\n          templateUrl: 'addModalContent.html',\n          controller: modalController,\n          controllerAs: 'vm'\n        });\n\n        modalInstance.result.then(function (sense) {\n          \n          deviceList.setDevice(sense.id, sense.imgId);\n\n          $log.info('Generating sense id: ' + sense.id + ', imageId:' + sense.imgId);\n\n        }, function () {\n\n          $log.info('Modal dismissed at: ' + new Date());\n\n        });\n      };\n    }\n\n    function modalController($modalInstance){\n      var vm = this;\n\n      vm.imgId = 10 + Math.floor(Math.random() * 54); // random image id\n      \n      vm.senseId = \"\"; // sense id\n      \n\n      vm.ok = function(){\n        $modalInstance.close({id: vm.senseId , imgId: vm.imgId});\n      };\n\n      vm.cancel = function(){\n        $modalInstance.dismiss('cancel');\n      };\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .directive('ngNavbar', ngNavbar);\n\n  /** @ngInject */\n  function ngNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n      \n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('public')\n      .service('deviceList', deviceList);\n\n\n  /** @ngInject */\n  function deviceList($http, $log) {\n    var devices = {};\n    $http({\n      method: 'GET',\n      url: 'api/devices'\n    }).then(function successCallback(response) {\n        var data = angular.fromJson(response.data.result);\n        data.forEach(function(obj){\n          devices[obj.senseId] = obj.senseIcon;\n        });\n      }, function errorCallback(response) {\n        $log.info(response);\n    });      \n\n    this.getDevices = getDevices;\n    this.setDevice = setDevice;\n    this.delDevice = delDevice;\n\n    function getDevices() {\n      return devices;\n    }\n\n    function setDevice(senseId, iconId) {\n      // call the backend api here to store the data\n      $http({\n        method: 'POST',\n        url: 'api/registerDevice',\n        data: {'senseId':senseId, 'senseIcon': iconId}\n      }).then(function successCallback(response) {\n          $log.info(response);\n        }, function errorCallback(response) {\n          $log.info(response);\n      });      \n      devices[senseId] = iconId;\n    }\n\n    function delDevice(senseId) {      \n      // call the backend api here to delete the data\n      $http({\n        method: 'DELETE',\n        url: 'api/devices/'+ senseId\n      });      \n\n      delete devices[senseId];\n    }\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($timeout, toastr) {\n    var vm = this;\n\n    vm.awesomeThings = [];\n    vm.classAnimation = '';\n    vm.creationDate = 1445587798203;\n    vm.showToastr = showToastr;\n\n    activate();\n\n    function activate() {\n      $timeout(function() {\n        vm.classAnimation = 'rubberBand';\n      }, 4000);\n    }\n\n    function showToastr() {\n      toastr.info('Fork <a href=\"https://github.com/Swiip/generator-gulp-angular\" target=\"_blank\"><b>generator-gulp-angular</b></a>');\n      vm.classAnimation = '';\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('think', {\n        url: \"/think\",\n        templateUrl: \"app/node-red/node-red.html\"\n      })\n      .state('sense', {\n        url: \"/sense\",\n        templateUrl: \"app/main/main.html\",\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n      .state('404', {\n        url: \"/404\",\n        templateUrl: \"app/exception/404.html\"\n      });\n      $urlRouterProvider.when('', '/sense');\n      $urlRouterProvider.otherwise('404');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('public')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"public\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/exception/404.html\",\"<div class=\\\"container\\\"><h1 style=\\\"text-align: center\\\">404 NOT FOUND</h1></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"container\\\"><ng-sense-content></ng-sense-content></div></div>\");\n$templateCache.put(\"app/node-red/node-red.html\",\"<div class=\\\"node-red-box\\\"><iframe src=\\\"/node-red\\\" width=\\\"100%\\\" height=\\\"100%\\\" scrolling=\\\"no\\\" frameborder=\\\"0\\\"></iframe></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<div class=\\\"row\\\" id=\\\"header\\\"><div class=\\\"col-md-2\\\"><div class=\\\"logo-img pull-left\\\"><img src=\\\"assets/images/IBM_IoT_cloud2.png\\\" width=\\\"117px\\\"></div></div><div class=\\\"col-md-4\\\"><div class=\\\"logo-text\\\"><h1>HUMIX NG</h1><h4>Homemade Robot</h4></div></div><div class=\\\"col-md-6 header-options\\\"><ul class=\\\"list-inline breadcrumbs\\\"><li><a ui-sref=\\\"sense\\\">Sense</a></li><li><a ui-sref=\\\"think\\\">Think</a></li><li class=\\\"active\\\"><a href=\\\"#\\\">Family</a></li><li><a href=\\\"#\\\">Login</a></li></ul></div></div>\");\n$templateCache.put(\"app/components/senseContent/senseContent.html\",\"<div class=\\\"sense-container\\\"><div class=\\\"title\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.open()\\\">Add Sense</button><hr></div><div class=\\\"row\\\"><ng-sense-item class=\\\"col-md-4\\\" ng-repeat=\\\"(key, val) in vm.getDevices()\\\" sense-id=\\\"{{ key }}\\\" img-id=\\\"{{ val }}\\\"></ng-sense-item></div></div><script type=\\\"text/ng-template\\\" id=\\\"addModalContent.html\\\"><div class=\\\"modal-header\\\"> <h3 class=\\\"modal-title\\\">Add Sencse</h3> </div> <div class=\\\"modal-body\\\"> <form class=\\\"form-horizontal\\\"> <div class=\\\"form-group\\\"> <div class=\\\"col-sm-3 modal-thumbnail-block\\\"> <img ng-src=\\\"assets/images/bluemix-icon-list/i-appicon-{{ vm.imgId }}-50.png\\\" class=\\\"img-thumbnail\\\" alt=\\\"thumbnail\\\" /> </div> <label class=\\\"col-sm-1 control-label\\\" for=\\\"sense-id\\\">ID: </label> <div class=\\\"col-sm-8\\\"> <input type=\\\"text\\\" id=\\\"sense-id\\\" class=\\\"form-control\\\" placeholder=\\\"Humix-Godzilla\\\" ng-model=\\\"vm.senseId\\\"/> </div> </div> </form> </div> <div class=\\\"modal-footer\\\"> <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"vm.ok()\\\">OK</button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">Cancel</button> </div></script>\");\n$templateCache.put(\"app/components/senseItem/senseItem.html\",\"<div class=\\\"panel panel-default\\\"><div class=\\\"row panel-heading\\\"><div class=\\\"col-md-10\\\">Sense</div><div class=\\\"col-md-2\\\"><input type=\\\"image\\\" src=\\\"assets/images/trash.png\\\" ng-click=\\\"delDevice(sense.senseId)\\\"></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><img ng-src=\\\"assets/images/bluemix-icon-list/i-appicon-{{ sense.imgId }}-50.png\\\" class=\\\"img-thumbnail\\\" alt=\\\"thumbnail\\\"></div><div class=\\\"col-md-8\\\"><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\" id=\\\"sizing-addon2\\\">ID</span> <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"sense.senseId\\\"></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}